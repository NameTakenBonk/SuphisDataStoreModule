<!doctype html>
<html lang="en" dir="ltr" class="plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">SuphisDataStoreModule | SuphisDataStoreModule</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://NameTakenBonk.github.io/SuphisDataStoreModule/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="SuphisDataStoreModule | SuphisDataStoreModule"><link data-rh="true" rel="canonical" href="https://NameTakenBonk.github.io/SuphisDataStoreModule/"><link data-rh="true" rel="alternate" href="https://NameTakenBonk.github.io/SuphisDataStoreModule/" hreflang="en"><link data-rh="true" rel="alternate" href="https://NameTakenBonk.github.io/SuphisDataStoreModule/" hreflang="x-default"><script data-rh="true">function maybeInsertBanner(){window.__DOCUSAURUS_INSERT_BASEURL_BANNER&&insertBanner()}function insertBanner(){var n=document.getElementById("docusaurus-base-url-issue-banner-container");if(n){n.innerHTML='\n<div id="docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseurl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/SuphisDataStoreModule/</span> </p>\n   <p>We suggest trying baseUrl = <span id="docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n';var e=document.getElementById("docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,r="/"===s.substr(-1)?s:s+"/";e.innerHTML=r}}window.__DOCUSAURUS_INSERT_BASEURL_BANNER=!0,document.addEventListener("DOMContentLoaded",maybeInsertBanner)</script><link rel="stylesheet" href="/SuphisDataStoreModule/assets/css/styles.d68860a6.css">
<link rel="preload" href="/SuphisDataStoreModule/assets/js/runtime~main.a27c3897.js" as="script">
<link rel="preload" href="/SuphisDataStoreModule/assets/js/main.6a3d1fb5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div id="docusaurus-base-url-issue-banner-container"></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/SuphisDataStoreModule/"><b class="navbar__title text--truncate">SuphisDataStoreModule</b></a><a class="navbar__item navbar__link" href="/SuphisDataStoreModule/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/SuphisDataStoreModule/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/NameTakenBonk/SuphisDataStoreModule" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><header class="hero heroBanner_e1Bh"><div class="container"><h1 class="hero__title">SuphisDataStoreModule</h1><p class="hero__subtitle"></p><div class="buttons_VwD3"><a class="button button--secondary button--lg" href="/SuphisDataStoreModule/docs/intro">Get Started â†’</a></div></div></header><main><section class="features_WS6B"><div class="container"><div class="row"><div class="col col--4"><div class="text--center"><img class="featureSvg_tqLR" alt="5uphi" src="https://tr.rbxcdn.com/2762a9dfc964102556ed275d837ec3d0/150/150/AvatarHeadshot/Png"></div><div class="text--center padding-horiz--md"><h3>5uphi</h3><p>Creator of the module itself.</p></div></div><div class="col col--4"><div class="text--center"><img class="featureSvg_tqLR" alt="Alternative" src="https://tr.rbxcdn.com/d041a23c94e014a8ee46a3a9356ddbe6/150/150/AvatarHeadshot/Png"></div><div class="text--center padding-horiz--md"><h3>Alternative</h3><p>Creator of the documentation and github.</p></div></div><div class="col col--4"><div class="text--center"><img class="featureSvg_tqLR" alt="The Discord" src="https://cdn-icons-png.flaticon.com/512/2111/2111370.png"></div><div class="text--center padding-horiz--md"><h3>The Discord</h3><p>Join the discord community! https://discord.gg/suphi-kaner-909926338801061961</p></div></div></div></div></section><div class="container"><p><img src="https://github.com/NameTakenBonk/SuphisDataStoreModule/assets/83465599/997eb561-56a2-4b68-ae6e-0ce0a646c7cd" alt="ðŸ’»Suphi&#x27;s_Data_Store_Module"></p><h1 id="suphis-datastore-module">Suphis DataStore Module</h1><p><img src="https://github.com/NameTakenBonk/SuphisDataStoreModule/assets/83465599/d8e6a7a2-4134-4134-bcff-7153f840de7e" alt="carbon (2)"></p><p>Before I start, this is not mine but 5uphi module, I got permission to put this up in github. Here is the discord: <a href="https://discord.gg/B3zmjPVBce">https://discord.gg/B3zmjPVBce</a></p><p><img src="https://img.shields.io/github/downloads/NameTakenBonk/SuphisDataStoreModule/total?color=%231fb594" alt="GitHub all releases"> <img src="https://img.shields.io/github/stars/NameTakenBonk/SuphisDataStoreModule?color=%23fff200" alt="GitHub Repo stars"></p><h1 id="features">Features</h1><ul><li>Session locking            Prevents multiple servers from opening the same datastore key</li><li>Cross Server Communication Easily use MemoryStoreQueue to send data to the session owner</li><li>Auto save                  Automatically saves cached data to the datastore based on the saveinterval property</li><li>Bind To Close              Automatically saves, closes and destroys all sessions when server starts to close</li><li>Reconcile                  Fills in missing values from the template into the value property</li><li>Compression                Compress data to reduce character count</li><li>Multiple script support    Safe to interact with the same datastore object from multiple scripts</li><li>Task batching              Tasks will be batched togever when possible</li><li>Direct value access        Access the datastore value directly, module will never tamper with your data and will never leave any data in your datastore or memorystore</li><li>Easy to use                Simple and elegant</li><li>Lightweight                No RunService events and no while do loops 100% event based</li></ul><h1 id="suphis-datastore-module-vs-profileservice">Suphi&#x27;s DataStore Module vs ProfileService</h1><p><strong>ProfileService</strong> relies on <code>os.time()</code> to lock the session. The problem with this is that each servers <code>os.time()</code> may not be 100% in sync. So to combat this problem <strong>ProfileService</strong> has a session timeout of 30 minutes, but if the servers have a <code>os.time()</code> delta greater then 30 minutes, then the server will be able to bypass the session lock and you will lose data. Another problem is because sessions are locked for 30 minutes, if roblox servers go down and quickly come back up and the server was not able to unlock the sessions. Then players will not be able to enter your game for 30 minutes until the sessions timeout. but will be able to enter other games that dont use <strong>ProfileService</strong>.</p><p>So the way <strong>Suphi&#x27;s DataStore Module</strong> works is that it uses the <code>MemoryStore</code> to save the session lock and because memorystores have a built in expiration time. The memorystore will get automatically removed for all servers at the exact same time and because of this it will be imposible for a server to bypass the session lock. This also allows us to have a very low session timeout of <strong>[interval]<!-- --> + 30 seconds</strong>. Another benefit of using the <code>MemoryStore</code> is that instead of using <code>UpdateAsync</code> on the <code>DataStore</code>. We only use <code>UpdateAsync</code> for the <code>MemoryStore</code>. Which allows us to not waste any <code>Get</code> and <code>Set</code> requests for the <code>DataStore</code>. The <code>MemoryStore</code> has a request limit of <code>1000 + 100 â¨‰ [number of player]</code> <strong>per minute</strong> while the DataStore only has a request limit of <code>60 + 10 â¨‰ [number of player]</code> <strong>per minute</strong>.</p><p><strong>ProfileService</strong> relays on <code>RunService.Heartbeat</code> and has a few <code>while true do task.wait()</code> end. on the other hand <strong>Suphi&#x27;s DataStore Module</strong> is 100% event driven making it super lightweight</p><p><strong>ProfileService</strong> saves data along side your data and forces you to save your data as a table where <strong>Suphi&#x27;s DataStore Module</strong> gives you full access to your datastores value and lets you set the datastore value directly with numbers, strings, booleans, tables or nil <strong>Suphi&#x27;s DataStore Module</strong> will not save any data inside your datastore</p><h1 id="download">Download</h1><p>Go to releases and download the version(latest stable version prefered), or copy the code(Both signal and datastoremodule, make signal the child of the main module.) in the repo. Alternatively without downloading you can do:</p><p><a href="https://create.roblox.com/marketplace/asset/11671168253/">https://create.roblox.com/marketplace/asset/11671168253/</a></p><pre><code class="language-lua">local dataStoreModule = require(11671168253)
</code></pre><p>Current version: <code>1.2</code></p><h1 id="docsapi">Docs/API</h1><p>Do you want check the docs or the api you can do so here: <a href="https://nametakenbonk.github.io/SuphisDataStoreModule/">https://nametakenbonk.github.io/SuphisDataStoreModule/</a></p><h1 id="events">Events</h1><pre><code class="language-lua">StateChanged(state: boolean?, object: DataStore)  Signal
</code></pre><p>Fires after state property has changed</p><pre><code class="language-lua">Saving(value: Variant, object: DataStore)  Signal
</code></pre><p>Fires just before the value is about to save</p><pre><code class="language-lua">Saved(response: string, responseData: any, dataStore: DataStore)  Signal
</code></pre><p>Fires after a save attempt</p><pre><code class="language-lua">AttemptsChanged(AttemptsRemaining: number, object: DataStore)  Signal
</code></pre><p>Fires when the AttemptsRemaining property has changed</p><pre><code class="language-lua">ProcessQueue(id: string, values: array, dataStore: DataStore)  Signal
</code></pre><p>Fires when state = true and values detected inside the MemoryStoreQueue</p><h1 id="simple-example">Simple Example</h1><pre><code class="language-lua">-- Require the ModuleScript
local DataStoreModule = require(11671168253)

-- Find or create a datastore object
local dataStore = DataStoreModule.new(&quot;Name&quot;, &quot;Key&quot;)

-- Connect a function to the StateChanged event and print to the output when the state changes
dataStore.StateChanged:Connect(function(state)
    if state == nil then print(&quot;Destroyed&quot;, dataStore.Id) end
    if state == false then print(&quot;Closed   &quot;, dataStore.Id) end
    if state == true then print(&quot;Open     &quot;, dataStore.Id) end
end)

-- Open the datastore session
local response, responseData = dataStore:Open()

-- If the session fails to open lets print why and return
if response ~= &quot;Success&quot; then print(dataStore.Id, response, responseData) return end

-- Set the datastore value
dataStore.Value = &quot;Hello world!&quot;

-- Save, close and destroy the session
dataStore:Destroy()
</code></pre><h1 id="load-example">Load Example</h1><pre><code class="language-lua">local DataStoreModule = require(11671168253)
local dataStore = DataStoreModule.new(&quot;Name&quot;, &quot;Key&quot;)

-- read the value from the datastore
if dataStore:Read() ~= &quot;Success&quot; then return end

-- WARNING this value might be out of date use open instead if you need the latest value
print(dataStore.Value)

-- as we never opened the session it will instantly destroy without saving or closing
dataStore:Destroy()
</code></pre><h1 id="setup-player-data-example">Setup Player Data Example</h1><pre><code class="language-lua">local DataStoreModule = require(11671168253)

local template = {
    Level = 0,
    Coins = 0,
    Inventory = {},
    DeveloperProducts = {},
}

game.Players.PlayerAdded:Connect(function(player)
    local dataStore = DataStoreModule.new(&quot;Player&quot;, player.UserId)
    if dataStore:Open(template) ~= &quot;Success&quot; then print(player.Name, &quot;failed to open&quot;) end
end)

game.Players.PlayerRemoving:Connect(function(player)
    local dataStore = DataStoreModule.find(&quot;Player&quot;, player.UserId)
    if dataStore == nil then return end
    dataStore:Destroy()
end)
</code></pre><h1 id="setup-player-data-example-1">Setup Player Data Example</h1><pre><code class="language-lua">local dataStore = DataStoreModule.find(&quot;Player&quot;, player.UserId)
if dataStore == nil then return end
if dataStore.State ~= true then return end -- make sure the session is open or the value will never get saved
dataStore.Value.Level += 1
</code></pre><h1 id="developer-products-example">Developer Products Example</h1><pre><code class="language-lua">local marketplaceService = game:GetService(&quot;MarketplaceService&quot;)
local DataStoreModule = require(11671168253)

marketplaceService.ProcessReceipt = function(receiptInfo)
    local dataStore = DataStoreModule.find(&quot;Player&quot;, receiptInfo.PlayerId)
    if dataStore == nil then return Enum.ProductPurchaseDecision.NotProcessedYet end
    if dataStore.State ~= true then return Enum.ProductPurchaseDecision.NotProcessedYet end

    -- convert the ProductId to a string as we are not allowed empty slots for numeric indexes
    local productId = tostring(receiptInfo.ProductId)

    -- Add 1 to to the productId in the DeveloperProducts table
    dataStore.Value.DeveloperProducts[productId] = (dataStore.Value.DeveloperProducts[productId] or 0) + 1

    if dataStore:Save() == &quot;Saved&quot; then
        -- there was no errors lets grant the purchase
        return Enum.ProductPurchaseDecision.PurchaseGranted
    else
        -- the save failed lets make sure to remove the product or it might get saved in the next save interval
        dataStore.Value.DeveloperProducts[productId] -= 1
        return Enum.ProductPurchaseDecision.NotProcessedYet
    end
end
</code></pre><h1 id="setup-player-data-automatic-retry-example">Setup Player Data Automatic Retry Example</h1><pre><code class="language-lua">local DataStoreModule = require(11671168253)

local template = {
    Level = 0,
    Coins = 0,
    Inventory = {},
    DeveloperProducts = {},
}

local function StateChanged(state, dataStore)
    while dataStore.State == false do -- Keep trying to re-open if the state is closed
        if dataStore:Open(template) ~= &quot;Success&quot; then task.wait(6) end
    end
end

game.Players.PlayerAdded:Connect(function(player)
    local dataStore = DataStoreModule.new(&quot;Player&quot;, player.UserId)
    dataStore.StateChanged:Connect(StateChanged)
    StateChanged(dataStore.State, dataStore)
end)

game.Players.PlayerRemoving:Connect(function(player)
    local dataStore = DataStoreModule.find(&quot;Player&quot;, player.UserId)
    if dataStore ~= nil then dataStore:Destroy() end -- If the player leaves datastore object is destroyed allowing the retry loop to stop
end)
</code></pre><h1 id="leaderstats-example">Leaderstats Example</h1><pre><code class="language-lua">local DataStoreModule = require(11671168253)

local keys = {&quot;Level&quot;, &quot;Coins&quot;}

local function StateChanged(state, dataStore)
    if state ~= true then return end
    for index, name in keys do
        dataStore.Leaderstats[name].Value = dataStore.Value[name]
    end
end

local function Add(player, key, amount)
    local dataStore = DataStoreModule.find(&quot;Player&quot;, player.UserId)
    if dataStore == nil then return end
    if dataStore.State ~= true then return end
    dataStore.Value[key] += amount
    dataStore.Leaderstats[key].Value = dataStore.Value[key]
end

game.Players.PlayerAdded:Connect(function(player)
    local leaderstats = Instance.new(&quot;Folder&quot;)
    leaderstats.Name = &quot;leaderstats&quot;
    leaderstats.Parent = player
    
    for index, name in keys do
        local intValue = Instance.new(&quot;IntValue&quot;)
        intValue.Name = name
        intValue.Parent = leaderstats
    end

    local dataStore = DataStoreModule.new(&quot;Player&quot;, player.UserId)
    dataStore.Leaderstats = leaderstats -- save the leaderstats folder into the datastore object
    dataStore.StateChanged:Connect(StateChanged)
end)

-- give somePlayer 10 coins
Add(somePlayer, &quot;Coins&quot;, 10)
</code></pre><h1 id="compression-example">Compression Example</h1><pre><code class="language-lua">local httpService = game:GetService(&quot;HttpService&quot;)

local DataStoreModule = require(11671168253)
local dataStore = DataStoreModule.new(&quot;name&quot;, &quot;key&quot;)
if dataStore:Open() ~= &quot;Success&quot; then return end

-- Enable compression
dataStore.Metadata.Compress = {[&quot;Level&quot;] = 2, [&quot;Decimals&quot;] = 3, [&quot;Safety&quot;] = true}
-- Level can be set to 1 or 2 (1 will allow mixed tables / 2 will not allow mixed tables but will compress arrays better)
-- Decimals will set the maximum number of decimals saved for numbers more decimals will use more data
-- Safety will scan your strings for the delete character [] and replace them with space [ ]
-- Setting to false will save faster but you could break the datastore if you have the delete character in any of your keys/strings
-- Recommended to set safty to true if you save strings sent from the client

dataStore.Value = {
    [&quot;Number&quot;] = 1234567891234.987,
    [&quot;String&quot;] = &quot;Hello World!&quot;,
    [&quot;Array&quot;] = {1234567891234567, 2345678912345678, 3456789123456789, 4567891234567891, 5678912345678912}
}

-- save datastore to force the CompressedValue to update
dataStore:Save()

print(dataStore.Value)
-- print the datastore value
print(httpService:JSONEncode(dataStore.Value)) 
-- print the compressed value
print(httpService:JSONEncode(dataStore.CompressedValue))
</code></pre><h1 id="queue-example">Queue Example</h1><pre><code class="language-lua">local DataStoreModule = require(11671168253)

local template = {
    Level = 0,
    Coins = 0,
    Inventory = {},
    DeveloperProducts = {},
}

local function ProcessQueue(id, values, dataStore)
    -- this function will only get called if the datastore is open
    if dataStore:Remove(id) ~= &quot;Success&quot; then return end
    for index, value in values do dataStore.Value.Coins += value end
    -- if the datastore fails to save after we changed the coins, coins will be lost
end

local function GiveCoins(userId, amount)
    -- try to find a datastore or create a hidden one
    local dataStore = DataStoreModule.find(&quot;Player&quot;, userId) or DataStoreModule.hidden(&quot;Player&quot;, userId)
    local response = dataStore:Open(template)
    if response == &quot;Success&quot; then
        dataStore.Value.Coins += amount -- datastore is open set the coins directly
    elseif response == &quot;Locked&quot; then
        -- another server has the datastore open add the amount to the queue so they can process it
        -- it&#x27;s posible that the other server might miss the amount added to the queue
        -- if so amount will stay in the queue for upto (3888000 seconds / 45 days)
        return dataStore:Queue(amount, 3888000) == &quot;Success&quot;
    else
        return false -- roblox servers are down
    end
    return dataStore.Hidden == false or dataStore:Destroy() == &quot;Saved&quot; -- if this is a hidden datastore destroy it
end

game.Players.PlayerAdded:Connect(function(player)
    local dataStore = DataStoreModule.new(&quot;Player&quot;, player.UserId)
    if dataStore:Open(template) ~= &quot;Success&quot; then print(player.Name, &quot;failed to open&quot;) return end
    dataStore.ProcessQueue:Connect(ProcessQueue)
end)

game.Players.PlayerRemoving:Connect(function(player)
    local dataStore = DataStoreModule.find(&quot;Player&quot;, player.UserId)
    if dataStore ~= nil then dataStore:Destroy() end
end)

-- try to give 5uphi 10 coins after 5 seconds
task.wait(5)
local success = GiveCoins(&quot;456056545&quot;, 10)
</code></pre><h1 id="safer-process-queue-example-1">SAFER PROCESS QUEUE EXAMPLE 1</h1><pre><code class="language-lua">local function ProcessQueue(id, values, dataStore)
    -- try to remove values from the queue if not success then return
    if dataStore:Remove(id) ~= &quot;Success&quot; then return end

    -- add coins for each value in the queue
    for index, value in values do dataStore.Value.Coins += value end

    -- try to save the datastore if saved then return
    if dataStore:Save() == &quot;Saved&quot; then return end

    -- try to adding the values back into the queue so we can process them again later
    -- if we succeed in adding the value back into the queue remove the coins so they dont get saved in the next saving intervals
    for index, value in values do
        if dataStore:Queue(value, 3888000) == &quot;Success&quot; then dataStore.Value.Coins -= value end
    end

    -- any values that we could not add back into the queue will stay inside datastore.Value.Coins and hopefully they will get saved in the next saving intervals
    -- if the next saving intervals also fail then the coins will be lost
end
</code></pre><pre><code class="language-lua">local function ProcessQueue(id, values, dataStore)
    -- add coins for each value in the queue
    for index, value in values do dataStore.Value.Coins += value end

    -- try to save the datastore if not saved then remove coins and return
    if dataStore:Save() ~= &quot;Saved&quot; then
        for index, value in values do dataStore.Value.Coins -= value end
        return
    end

    -- try to remove values from the queue if success then return
    if dataStore:Remove(id) == &quot;Success&quot; then return end

    -- because remove was not success remove coins
    for index, value in values do dataStore.Value.Coins -= value end

    -- try to save the datastore
    dataStore:Save()

    -- if the datastore fails to save hopefully it will get saved in the next saving intervals
    -- if the next saving intervals also fail then when the queue gets processed again and they will get the coins again
end
</code></pre><h1 id="responses">Responses</h1><pre><code class="language-lua">local response, responseData = dataStore:Open()
-- Success, nil
-- Locked, UniqueId
-- State, Destroying/Destroyed
-- Error, ErrorMessage

local response, responseData = dataStore:Read()
-- Success, nil
-- State, Open
-- Error, ErrorMessage

local response, responseData = dataStore:Save()
-- Saved, nil
-- State, Closing/Closed/Destroying/Destroyed
-- Error, ErrorMessage

local response, responseData = dataStore:Close()
-- Success, nil
-- Saved, nil

local response, responseData = dataStore:Destroy()
-- Success, nil
-- Saved, nil

local response, responseData = dataStore:Queue()
-- Success, nil
-- Error, ErrorMessage

local response, responseData = dataStore:Remove()
-- Success, nil
-- Error, ErrorMessage
</code></pre><h1 id="update-11--12">Update 1.1 + 1.2</h1><ul><li>bug fix</li><li>bug fix -- fixed small edge case when calling ds:Close() would return nil instead of &quot;Success&quot;</li><li>Saved response will now return dataStore.Value as responseData instead of nil</li><li>Added Saved event</li><li>improved proxy</li><li>improved task manager</li><li>you can now save custom values inside the object</li><li>under the hood changes</li></ul></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 NameTakenBonk. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/SuphisDataStoreModule/assets/js/runtime~main.a27c3897.js"></script>
<script src="/SuphisDataStoreModule/assets/js/main.6a3d1fb5.js"></script>
</body>
</html>